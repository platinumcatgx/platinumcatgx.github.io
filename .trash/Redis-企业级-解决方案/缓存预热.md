# 缓存预热
2021-06-28 10:07:28
            
---


缓存预热
场景："宕机"
服务器启动后迅速宕机
问题排查
1.  请求数量较高，大量的请求过来之后都需要去从缓存中获取数据，但是缓存中又没有，
> 此时从数据库中查找数据然后将数据再存入缓存，造成了期内对redis的高强度操作从而导致问题
1.  主从之间数据夻吐量较大，数据同步操作频度较高




解决方案．
-   前置准备工作：
1.  日常例行统计数据访问记录，统计访问频度较高的热点数据
2.  利用LRIJ数槳除策略，构建数据諂存队列侨上storm与kafka配合
-   准备工作：
1.  将统计结果中的数据分类，根据级别，redis优先加排及别较高的热点数据
2.  利用分布式多服务器同时进行数据读取，提速数据加载程
3.  热点数据主从同时预热
4.  使用脚本程序固定触发数据预热程
5.  如果条件允许。使用了CDN（内容分发网络），效果会更好




总的来说缓存预热就是系统启动前，提前将相关的缓存数据直接加载到缓存系统。避免在户请求的时候，先查洵数据库，然后再将数据缓存的问题！户直接查洵事先被预热的缓存数据！




